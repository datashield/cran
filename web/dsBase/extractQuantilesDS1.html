<!DOCTYPE html><html><head><title>R: Secure ranking of &quot;V2BR&quot; (vector to be ranked) across all...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="../../assets/R.css" />
</head><body><div class="container">

<table width="100%"><tr><td>extractQuantilesDS1 {dsBase}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Secure ranking of &quot;V2BR&quot; (vector to be ranked) across all sources
and use of these ranks to estimate global quantiles across all studies</h2>

<h3>Description</h3>

<p>identify the global values of V2BR (i.e. the values across all
studies) that relate to a set of quantiles to be evaluated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractQuantilesDS1(extract.quantiles, extract.summary.output.ranks.df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr valign="top"><td><code>extract.quantiles</code></td>
<td>
<p>one of a restricted set of character strings that
fix the set of quantile values for which the corresponding values across
all studies are to be estimated. For more details
see the associated document entitled &quot;secure.global.ranking.docx&quot;, the
header for ds.ranksSecure and ds.extractQuantiles functions.
The value of this argument is set in choosing the value of the argument
&lt;quantiles.for.estimation&gt; in ds.ranksSecure.</p>
</td></tr>
<tr valign="top"><td><code>extract.summary.output.ranks.df</code></td>
<td>
<p>character string specifying optional
name for the data.frame written to the serverside on each data source that
contains 5 of the key output variables from the ranking procedure pertaining
to that particular data source. This data frame represents the key source of
information - including global ranks - that determines the values of V2BR
that are identified as corresponding to the particular set of quantiles to
be estimated as specified by the &lt;quantiles.for.estimation&gt; argument of
function ds.ranksSecure (and the &lt;extract.quantiles&gt; argument of
ds.extractQuantiles).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Severside aggregate function called by ds.extractQuantiles via
ds.ranksSecure. As well as estimating the key values of V2BR that correspond
to the selected quantiles, this function also implements a disclosure control
trap. If the ratio of the total number of all observations across all studies
divided by the number of quantile values to be estimated is less than or
equal to nfilter.subset (which specifies the minimum size of a subset) the
process stops and an error message is returned suggesting that you might
try selecting a narrower range of quantiles with less quantile values to be
estimated as specified by the argument &lt;quantiles.for.estimation&gt; of the
function ds.ranksSecure. For more details about the cluster of functions that
collectively enable secure global ranking and estimation of global quantiles
see the associated document entitled &quot;secure.global.ranking.docx&quot;
</p>


<h3>Value</h3>

<p>as a first step in creating the vector of values of values of V2BR
that correspond to each quantile value, extractQuantilesDS1 identifies the
two closest quantile values across all studies that span each key quantile
value. These are saved as the data frame &quot;closest.bounds.df&quot; on the
clientside and then saved on the serverside by ds.dmtC2S into the data frame
&quot;global.bounds.df&quot;. Also if the number of observations across all studies is
too small, and a  disclosure risk exists if the final.quantile.vector is made
available via the client, this function stops the processing and returns a
warning/error message.
</p>


<h3>Author(s)</h3>

<p>Paul Burton 11th November, 2021
</p>

<hr /><div style="text-align: center;">[Package <em>dsBase</em> version 6.3.0 ]</div>
</div>
</body></html>
