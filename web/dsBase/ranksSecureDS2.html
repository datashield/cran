<!DOCTYPE html><html><head><title>R: Secure ranking of &quot;V2BR&quot; (vector to be ranked) across all...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="../../assets/R.css" />
</head><body><div class="container">

<table width="100%"><tr><td>ranksSecureDS2 {dsBase}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Secure ranking of &quot;V2BR&quot; (vector to be ranked) across all sources</h2>

<h3>Description</h3>

<p>Checks that the data frame produced in creating the initial
global ranks (ranks based on real and pseudo-data after the running of
blackBoxDS)has the correct dimensions and order as the serverside data frames
to which it will now be appended. If either the number of rows or the order
of the rows are inconsistent with the pre-existing data frames on the
serverside an error message is returned and the processing stops. Then
strips out the pseudo-data leaving solely the global ranks based just on
the real data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ranksSecureDS2()
</code></pre>


<h3>Details</h3>

<p>Severside assign function called by ds.ranksSecure. 
It works on the on the output created by serverside function ranksSecureDS1
and saved on the serverside in data frame sR4.df by ds.dmtC2S. Having
checked QA it strips out all rows corresponding to pseudo-data. The resultant
data frame contains the following vectors: (1) the fully encrypted V2BR
(after application of blackBoxDS);(2) &quot;ID.by.val&quot; the sequential
ID associated with the &quot;combined real+pseudo data vector&quot; sorted by
value (ascending); (3) &quot;studyid&quot;, a vector consisting solely of value n in
the nth study; (4) &quot;global.rank&quot; the vector containing global ranks created by
the clientside code in ds.ranksSecure after ranksSecureDS1 is called and up
to the point where ds.dmtC2S sends sR4.df to the serverside. For more
details about the cluster of functions that collectively enable secure global
ranking and estimation of global quantiles see the associated document
entitled &quot;secure.global.ranking.docx&quot;. Also see the header file
for ds.ranksSecure
</p>


<h3>Value</h3>

<p>creates a new data frame sR5.df on the serverside containing
solely the real data and including key elements needed for next stage of the
ranking process. Most crucially these include &quot;global.rank&quot; and &quot;ID.by.val&quot;
sorted in ascending order of the magnitude of V2BR
</p>


<h3>Author(s)</h3>

<p>Paul Burton 9th November, 2021
</p>

<hr /><div style="text-align: center;">[Package <em>dsBase</em> version 6.3.0 ]</div>
</div>
</body></html>
