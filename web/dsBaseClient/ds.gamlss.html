<!DOCTYPE html><html><head><title>R: Generalized Additive Models for Location Scale and Shape</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="../../assets/R.css" />
</head><body><div class="container">

<table width="100%"><tr><td>ds.gamlss {dsBaseClient}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Generalized Additive Models for Location Scale and Shape</h2>

<h3>Description</h3>

<p>This function calls the gamlssDS that is a wrapper function from 
the gamlss R package. The function returns an object of class &quot;gamlss&quot;, which 
is a generalized additive model for location, scale and shape (GAMLSS). The 
function also saves the residuals as an object on the server-side with a name 
specified by the newobj argument. In addition, if the argument centiles is set 
to TRUE, the function calls the centiles function from the gamlss package and 
returns the sample percentages below each centile curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ds.gamlss(
  formula = NULL,
  sigma.formula = "~1",
  nu.formula = "~1",
  tau.formula = "~1",
  family = "NO()",
  data = NULL,
  method = "RS",
  mu.fix = FALSE,
  sigma.fix = FALSE,
  nu.fix = FALSE,
  tau.fix = FALSE,
  control = c(0.001, 20, 1, 1, 1, 1, Inf),
  i.control = c(0.001, 50, 30, 0.001),
  centiles = FALSE,
  xvar = NULL,
  newobj = NULL,
  datasources = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr valign="top"><td><code>formula</code></td>
<td>
<p>a formula object, with the response on the left of an ~ operator, 
and the terms, separated by + operators, on the right. Nonparametric smoothing
terms are indicated by pb() for penalised beta splines, cs for smoothing splines, 
lo for loess smooth terms and random or ra for random terms, 
e.g. 'y~cs(x,df=5)+x1+x2*x3'.</p>
</td></tr>
<tr valign="top"><td><code>sigma.formula</code></td>
<td>
<p>a formula object for fitting a model to the sigma parameter,
as in the formula above, e.g. sigma.formula='~cs(x,df=5)'.</p>
</td></tr>
<tr valign="top"><td><code>nu.formula</code></td>
<td>
<p>a formula object for fitting a model to the nu parameter, 
e.g. nu.formula='~x'.</p>
</td></tr>
<tr valign="top"><td><code>tau.formula</code></td>
<td>
<p>a formula object for fitting a model to the tau parameter, 
e.g. tau.formula='~cs(x,df=2)'.</p>
</td></tr>
<tr valign="top"><td><code>family</code></td>
<td>
<p>a gamlss.family object, which is used to define the distribution 
and the link functions of the various parameters. The distribution families 
supported by gamlss() can be found in gamlss.family. Functions such as 'BI()' 
(binomial) produce a family object. Also can be given without the parentheses
i.e. 'BI'. Family functions can take arguments, as in 'BI(mu.link=probit)'.</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<p>a data frame containing the variables occurring in the formula. 
If this is missing, the variables should be on the parent environment.</p>
</td></tr>
<tr valign="top"><td><code>method</code></td>
<td>
<p>a character indicating the algorithm for GAMLSS. Can be either
'RS', 'CG' or 'mixed'. If method='RS' the function will use the Rigby and 
Stasinopoulos algorithm, if method='CG' the function will use the Cole and 
Green algorithm, and if method='mixed' the function will use the RS algorithm
twice before switching to the Cole and Green algorithm for up to 10 extra
iterations.</p>
</td></tr>
<tr valign="top"><td><code>mu.fix</code></td>
<td>
<p>logical, indicate whether the mu parameter should be kept fixed
in the fitting processes.</p>
</td></tr>
<tr valign="top"><td><code>sigma.fix</code></td>
<td>
<p>logical, indicate whether the sigma parameter should be kept
fixed in the fitting processes.</p>
</td></tr>
<tr valign="top"><td><code>nu.fix</code></td>
<td>
<p>logical, indicate whether the nu parameter should be kept fixed 
in the fitting processes.</p>
</td></tr>
<tr valign="top"><td><code>tau.fix</code></td>
<td>
<p>logical, indicate whether the tau parameter should be kept fixed
in the fitting processes.</p>
</td></tr>
<tr valign="top"><td><code>control</code></td>
<td>
<p>this sets the control parameters of the outer iterations algorithm 
using the gamlss.control function. This is a vector of 7 numeric values: (i) c.crit 
(the convergence criterion for the algorithm), (ii) n.cyc (the number of cycles of 
the algorithm), (iii) mu.step (the step length for the parameter mu), (iv) sigma.step 
(the step length for the parameter sigma), (v) nu.step (the step length for the
parameter nu), (vi) tau.step (the step length for the parameter tau), (vii) gd.tol
(global deviance tolerance level). The default values for these 7 parameters are 
set to c(0.001, 20, 1, 1, 1, 1, Inf).</p>
</td></tr>
<tr valign="top"><td><code>i.control</code></td>
<td>
<p>this sets the control parameters of the inner iterations of the 
RS algorithm using the glim.control function. This is a vector of 4 numeric values: 
(i) cc (the convergence criterion for the algorithm), (ii) cyc (the number of 
cycles of the algorithm), (iii) bf.cyc (the number of cycles of the backfitting 
algorithm), (iv) bf.tol (the convergence criterion (tolerance level) for the 
backfitting algorithm). The default values for these 4 parameters are set to 
c(0.001, 50, 30, 0.001).</p>
</td></tr>
<tr valign="top"><td><code>centiles</code></td>
<td>
<p>logical, indicating whether the function centiles() will be used to 
tabulate the sample percentages below each centile curve. Default is set to FALSE.</p>
</td></tr>
<tr valign="top"><td><code>xvar</code></td>
<td>
<p>the unique explanatory variable used in the centiles() function. This 
variable is used only if the centiles argument is set to TRUE. A restriction in
the centiles function is that it applies to models with one explanatory variable
only.</p>
</td></tr>
<tr valign="top"><td><code>newobj</code></td>
<td>
<p>a character string that provides the name for the output object
that is stored on the data servers. Default <code>gamlss_res</code>.</p>
</td></tr>
<tr valign="top"><td><code>datasources</code></td>
<td>
<p>a list of <code>DSConnection-class</code> 
objects obtained after login. If the <code>datasources</code> argument is not specified
the default set of connections will be used: see <code>datashield.connections_default</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For additional details see the help header of gamlss and centiles
functions in native R gamlss package.
</p>


<h3>Value</h3>

<p>a gamlss object with all components as in the native R gamlss function. 
Individual-level information like the components y (the response response) and 
residuals (the normalised quantile residuals of the model) are not disclosed to 
the client-side.
</p>


<h3>Author(s)</h3>

<p>Demetris Avraam for DataSHIELD Development Team
</p>

<hr /><div style="text-align: center;">[Package <em>dsBaseClient</em> version 6.3.0 ]</div>
</div>
</body></html>
