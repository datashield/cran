<!DOCTYPE html><html><head><title>R: Computes the mean and standard deviation across categories</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="../../assets/R.css" />
</head><body><div class="container">

<table width="100%"><tr><td>ds.meanByClass {dsBaseClient}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Computes the mean and standard deviation across categories</h2>

<h3>Description</h3>

<p>This function calculates the mean and  the standard deviation (SD)
of a continuous variable for each class of up to 3 categorical variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ds.meanByClass(
  x = NULL,
  outvar = NULL,
  covar = NULL,
  type = "combine",
  datasources = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr valign="top"><td><code>x</code></td>
<td>
<p>a character string specifying the name of the dataset or a text formula.</p>
</td></tr>
<tr valign="top"><td><code>outvar</code></td>
<td>
<p>a character vector specifying the names of the continuous variables.</p>
</td></tr>
<tr valign="top"><td><code>covar</code></td>
<td>
<p>a character vector specifying the names of up to 3 categorical variables</p>
</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
<p>a character string that represents the type of analysis to carry out.
<code>type</code> can be set as: <code>'combine'</code> or <code>'split'</code>. 
Default <code>'combine'</code>. 
For more information see <strong>Details</strong>.</p>
</td></tr>
<tr valign="top"><td><code>datasources</code></td>
<td>
<p>a list of <code>DSConnection-class</code> 
objects obtained after login. If the <code>datasources</code> argument is not specified
the default set of connections will be used: see <code>datashield.connections_default</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function splits the input dataset into subsets (one for each category) and calculates
the mean and SD of the specified numeric variables. It is important to note that the process of
generating the final table(s) can be time consuming particularly if the subsetting is done across
more than one categorical variable and the run-time lengthens if the parameter <code>type</code> is set to
<code>'split'</code> as a table is then produced for each study. It is therefore advisable to run the function
only for the studies of the user interested in but including only those studies in the
parameter <code>datasources</code>.
</p>
<p>Depending on the variable <code>type</code> can be carried out two analysis:<br />
(1) <code>'combine'</code>: a pooled table of results is generated. <br />
(2) <code>'split'</code>: a table of results is generated for each study.
</p>


<h3>Value</h3>

<p><code>ds.meanByClass</code> returns to the client-side a table or a list of tables that 
hold the length of the numeric variable(s) and their mean
and standard deviation in each subgroup (subset).
</p>


<h3>Author(s)</h3>

<p>DataSHIELD Development Team
</p>


<h3>See Also</h3>

<p><code>ds.subsetByClass</code> to subset by the classes of factor vector(s).
</p>
<p><code>ds.subset</code> to subset by complete cases (i.e. removing missing values), threshold, columns and rows.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

 ## Version 6, for version 5 see the Wiki
  
  # connecting to the Opal servers

  require('DSI')
  require('DSOpal')
  require('dsBaseClient')

  builder &lt;- DSI::newDSLoginBuilder()
  builder$append(server = "study1", 
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM1", driver = "OpalDriver")
  builder$append(server = "study2", 
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM2", driver = "OpalDriver")
  builder$append(server = "study3",
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM3", driver = "OpalDriver")
  logindata &lt;- builder$build()
  
  
  connections &lt;- DSI::datashield.login(logins = logindata, assign = TRUE, symbol = "D") 
  
  #Calculate mean by class
  
  ds.meanByClass(x = "D",
                 outvar = c('LAB_HDL','LAB_TSC'),
                 covar = c('PM_BMI_CATEGORICAL'),
                 type = "combine",
                 datasources = connections)
                 
  ds.meanByClass(x = "D$LAB_HDL~D$PM_BMI_CATEGORICAL",
                 type = "combine",
                 datasources = connections[1])#Only the frist server is used ("study1")  
             
  # clear the Datashield R sessions and logout
  datashield.logout(connections)

## End(Not run)

</code></pre>

<hr /><div style="text-align: center;">[Package <em>dsBaseClient</em> version 6.3.0 ]</div>
</div>
</body></html>
